{"version":3,"file":"home-bundle.js","sources":["webpack:///src/client/js/index.js","webpack:///src/client/js/controller/base.js","webpack:///src/client/js/controller/home.js","webpack:///src/client/js/controller/index.js","webpack:///src/client/js/router/main.js","webpack:///src/client/js/scripts/leafletMap.js","webpack:///src/client/js/view/app.jsx","webpack:///src/client/js/view/home/home.jsx","webpack:///src/client/js/view/index.js","webpack:///./src/client/css/style.less"],"sourcesContent":["/*\r\nApp main file\r\n*/\r\n// import styles\r\nimport '../css/style.less';\r\nimport 'bootstrap';\r\n// import custom scripts\r\nimport 'esri-leaflet';\r\n// import backbone/react\r\nimport Router from './router/main';\r\nimport {HomeController} from './controller/index.js';\r\nimport MainView from './view';\r\n\r\n\r\nclass Application {\r\n  constructor() {\r\n    //additional initialization\r\n    this.initialize();\r\n  }\r\n\r\n  initialize() {\r\n    let self = this;\r\n    this._mainView = new MainView();\r\n    // template for multiple pages\r\n    // this._pageController = new PageController({\r\n    //   app: self\r\n    // });\r\n\r\n    this._homeController = new HomeController({\r\n      app: self\r\n    });\r\n\r\n\r\n\r\n    this._router = new Router({\r\n      controllers: {\r\n        // page: self._pageController,\r\n        home: self._homeController\r\n      }\r\n    });\r\n    //start backbone history\r\n    Backbone.history.start();\r\n    console.log('app finished initializing!');\r\n  }\r\n\r\n  get router() {\r\n    return this._router;\r\n  }\r\n}\r\n\r\n\r\n//start up function\r\n$(() => {\r\n  //webpack works\r\n  console.log('Loading...');\r\n\r\n  let app = new Application();\r\n  // console.log(app);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/index.js","/*\nbase controller\n*/\n\nexport default class Controller {\n  constructor(options) {\n    Object.assign(this, options);\n    var {_mainView} = this.app;\n    this.viewPort = _mainView;\n    this._currentRoute = '';\n  }\n\n  ///end of action methods\n  //////////////////////\n\n\n  ///private functions\n  navigateTo(url) {\n    if(typeof this._router === 'undefined')\n      this._router = this.app.router;\n    this._router.navigate(url, {replace: true});\n  }\n\n\n  get currentRoute() {\n    return this._currentRoute;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/controller/base.js","/*\r\nHome controller\r\n*/\r\n\r\nimport BaseController from './base.js';\r\nimport HomeView from '../view/home/home.jsx';\r\n\r\n\r\nexport default class Controller extends BaseController{\r\n  constructor(options) {\r\n    super(options);\r\n\r\n    // this.events = {};\r\n\r\n  }\r\n  ///action methods/////\r\n  index() {\r\n    //re-render the page being requested\r\n    // console.log('Index route is to be implemented...');\r\n    var currentView = <HomeView/> ;\r\n    this.viewPort.render(currentView);\r\n\r\n  }\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/controller/home.js","/*\r\nCarl Flint\r\n*/\r\n\r\n// import pageController from './page.js';\r\nimport HomeController from './home.js';\r\n\r\n\r\nexport {\r\n  // pageController,\r\n  HomeController\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/controller/index.js","/*\nRouter for github.io (SPA)\n*/\nexport default Backbone.Router.extend({\n  name: 'main',\n  initialize(options) {\n    this.options = options;\n    console.log('router is being initialized');\n    this.controllers = options.controllers;\n  },\n  routes: {\n    '': 'index'\n  },\n  index() {\n    this.controllers.home.index();\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/router/main.js","import L from 'leaflet';\r\nimport {featureLayer} from 'esri-leaflet';\r\nimport {service} from 'esri-leaflet-gp';\r\nimport {geosearch, geocodeService} from 'esri-leaflet-geocoder';\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n// workaround for leaflet marker not loading\r\n// L.Icon.Default.imagePath = '.';\r\n// OR\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\nvar map = L.map('map', {zoomControl: true}).setView([\r\n  38.3607, -75.5994\r\n], 11);\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n// basemap with zoom dependency\r\nL.tileLayer('http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png', {\r\n  attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n  maxZoom: 15,\r\n  minZoom: 7\r\n}).addTo(map);\r\n\r\nvar image = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n  attribution: '&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n  maxZoom: 20,\r\n  minZoom: 15\r\n}).addTo(map);\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n// esri-leaflet-geocoder function {geosearch}\r\nvar searchControl = geosearch().addTo(map);\r\n\r\nvar results = L.layerGroup().addTo(map);\r\n\r\nsearchControl.on('results', function(data) {\r\n  results.clearLayers();\r\n  for (var i = data.results.length - 1; i >= 0; i--) {\r\n    results.addLayer(L.marker(data.results[i].latlng));\r\n  }\r\n});\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n// esri-leaflet-geocoder reverse geocodeService\r\nvar revGeocodeService = geocodeService();\r\n\r\nmap.on('click', function(e) {\r\n  revGeocodeService.reverse().latlng(e.latlng).run(function(error, result) {\r\n    L.marker(result.latlng).addTo(map).bindPopup(result.address.Match_addr).openPopup();\r\n  });\r\n});\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n// network analist drive time poly\r\nvar gpService = service({url: \"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Network/ESRI_DriveTime_US/GPServer/CreateDriveTimePolygons\", useCors: false});\r\n\r\nvar gpTask = gpService.createTask();\r\n// set drive time parameter for analysis\r\ngpTask.setParam(\"Drive_Times\", \"4 8\");\r\n\r\nvar driveTimes = L.featureGroup();\r\nmap.addLayer(driveTimes);\r\n\r\nmap.on('click', function(evt) {\r\n  // document.getElementById('info-pane').innerHTML = 'working...';\r\n  driveTimes.clearLayers();\r\n  gpTask.setParam(\"Input_Location\", evt.latlng)\r\n  gpTask.run(driveTimeCallback);\r\n});\r\n\r\nfunction driveTimeCallback(error, response, raw) {\r\n  // document.getElementById('info-pane').innerHTML = 'click on the map to calculate 1 and 2 minute drivetimes';\r\n  driveTimes.addLayer(L.geoJSON(response.Output_Drive_Time_Polygons));\r\n}\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n//add a simple featureLayer to the map for US congressionalDistricts from MD iMAP\r\nvar criticalAreas = featureLayer({\r\n    url: 'https://geodata.md.gov/imap/rest/services/Environment/MD_CriticalAreas/FeatureServer/0',\r\n    simplifyFactor: 0.5,\r\n    precision: 5,\r\n    style: function (feature) {\r\n      if(feature.properties.CritArea === 'Intensely Developed Area'){\r\n        return {color: 'Crimson', weight: 2 };\r\n      } else if(feature.properties.CritArea === 'Wetland Area'){\r\n        return { color: 'Blue', weight: 2 };\r\n      } else if(feature.properties.CritArea === 'Corporate Limit'){\r\n        return { color: 'DarkSlateGrey', weight: 2 };\r\n      } else if(feature.properties.CritArea === 'Resource Conservation Area'){\r\n        return { color: 'DarkOliveGreen', weight: 2 };\r\n      } else if(feature.properties.CritArea === 'Limited Development Area'){\r\n        return { color: 'DarkOrange', weight: 2 };\r\n      } else if(feature.properties.CritArea === 'Federal Lands'){\r\n        return { color: 'Navy', weight: 2 };\r\n      } else {\r\n        return { color: 'Tan', weight: 2 };\r\n      }\r\n    }\r\n  });\r\n// map.addLayer(criticalAreas);\r\n///////////////////////////////////////////////////////////////////////////////////////////////\r\n//custom popup for criticalAreas\r\ncriticalAreas.bindPopup(function (layer) {\r\n  return L.Util.template('<p>{Type}<br>{CritArea}<br>{Location}</p>', layer.feature.properties);\r\n});\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n//add a simple featureLayer to the map for Critial Area from MD iMAP\r\nvar congressionalDistricts = featureLayer({\r\n    url: 'https://geodata.md.gov/imap/rest/services/Boundaries/MD_ElectionBoundaries/FeatureServer/0',\r\n    simplifyFactor: 0.5,\r\n    precision: 5,\r\n    style: function (feature) {\r\n      if(feature.properties.US_Representatives_Party === 'Democrat'){\r\n        return {color: 'blue', weight: 2 };\r\n      } else if(feature.properties.US_Representatives_Party === 'Republican'){\r\n        return { color: 'red', weight: 2 };\r\n      } else {\r\n        return { color: 'white', weight: 2 };\r\n      }\r\n    }\r\n  });\r\n// map.addLayer(congressionalDistricts);\r\n///////////////////////////////////////////////////////////////////////////////////////////////\r\n//custom popup for congressionalDistricts\r\ncongressionalDistricts.bindPopup(function (layer) {\r\n  return L.Util.template('<p>{Label}<br>{US_Representatives}<br>{US_Senator_1}<br>{US_Senator_2}</p>', layer.feature.properties);\r\n});\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////\r\n//control group function\r\nvar baseLayers = {\r\n    // \"Grayscale\": gray,\r\n    // \"Streetmap\": L.esri.basemapLayer(\"Streets\")\r\n};\r\nvar overlays = {\r\n      \"MD iMap Critical Areas\": criticalAreas,\r\n      \"U.S. Congressional Districts\": congressionalDistricts\r\n  };\r\n\r\nL.control.layers(baseLayers, overlays).addTo(map);\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/scripts/leafletMap.js","/*\r\nApp container view\r\n*/\r\nexport default class App extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\t//this.state = {};\r\n\r\n\t}\r\n  render() {\r\n    return (\r\n  \t  <div id=\"react-app-container\">\r\n        {this.props.children}\r\n  \t  </div>\r\n      );\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/view/app.jsx","/*\nReact main component\n*/\r\n\r\n\r\n//import TopNav from '../component/nav.jsx';\r\nimport '../../scripts/leafletMap.js';\r\n\r\nexport default class Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.style = {};\r\n    // this.handleChange = this.handleChange.bind(this);\r\n    this.state = {\r\n      // name: ''\r\n    };\r\n  }\r\n\r\n  // handleChange(e) {\r\n  //   let oldState = this.state.name;\r\n  //   this.setState({ name: e.target.value});\r\n  // }\r\n  //\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   if (this.props.name != nextProps.name) {\r\n  //     return true\r\n  //   }\r\n  // }\r\n  //\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //\r\n  // }\r\n\r\n  render() {\r\n    var content = (\r\n      <div id='map'>\r\n        {/* <h1 className='container'>Place holder for Homepage content</h1> */}\r\n\r\n      </div>\r\n    );\r\n\r\n    return content;\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/view/home/home.jsx","/*\r\nBackbone MainView\r\n*/\r\n//require react view\r\n// import Page from './component/page.jsx';\r\nimport App from './app.jsx';\r\n\r\nexport default Backbone.View.extend({\r\n  el: '#wrapper',\r\n  render(currentView) {\r\n  \tReactDOM.render(\r\n  \t\t<App>\r\n  \t\t\t{currentView}\r\n  \t\t</App>,this.el\r\n  \t);\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/view/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/css/style.less\n// module id = 445\n// module chunks = 0"],"mappings":";;;;;;;;AAAA;;;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AANA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAKA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;AAIA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1DA;;;;AAIA;AACA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AADA;AACA;AAEA;AACA;;;AAGA;AACA;AACA;;;;;;AAtBA;;;;;;;;;;;;;;;;ACAA;AACA;;;AAAA;AACA;;;;;;;;;AANA;;;;AAQA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AAEA;AACA;AACA;AACA;;;AADA;AACA;AACA;AACA;AACA;AAEA;;;;;;AAdA;AAgBA;;;;;;;;;;;;;;;;ACnBA;AACA;;;;;AAIA;;;;AANA;;;;;;;;;;;;;ACJA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAZA;;;;;;;;;;;ACHA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AACA;AAIA;;;;;;;;;;;;;;;;;;;;;;AC7IA;;;AAGA;;;AACA;AAAA;AACA;AADA;AAEA;AAEA;AACA;;;AAAA;AACA;AACA;AAAA;AACA;AADA;AAIA;;;;AAZA;AACA;AADA;AAaA;;;;;;;;;;;;;;;;;ACVA;AACA;;;;;AAPA;;;;AAKA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AADA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AAMA;AACA;;;;AAnCA;AACA;AADA;AAoCA;;;;;;;;;;;;;;;ACvCA;AACA;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAIA;AARA;;;AAJA;AACA;;;;;;;;ACJA;;;;;;;;;;;;;A","sourceRoot":""}